<div
	class="bg-linear-to-br from-blue-500 to-purple-600 p-4 overflow-hidden"
	style="min-height: calc(100vh - 4rem)">
	<div class="relative p-4">
		<mat-card class="w-full max-w-6xl mx-auto shadow-2xl">
			<mat-card-header
				class="flex justify-between items-center"
				style="padding-bottom: 1.5rem">
				<mat-card-title class="text-2xl font-bold text-gray-800"
					>Boxes Management</mat-card-title
				>
				<mat-card-subtitle class="text-gray-600"
					>Manage book boxes</mat-card-subtitle
				>
				<button mat-raised-button color="primary" (click)="openDialog()">
					<mat-icon>add</mat-icon>
					Add Box
				</button>
			</mat-card-header>
			<mat-card-content>
				<div class="mb-4">
					<mat-form-field appearance="fill" class="w-1/2">
						<mat-label>Search</mat-label>
						<input
							matInput
							[formControl]="searchControl"
							placeholder="Search boxes..." />
						<mat-icon matPrefix>search</mat-icon>
					</mat-form-field>
				</div>
				<div *ngIf="(loading$ | async)?.loading" class="flex justify-center">
					<mat-spinner></mat-spinner>
				</div>
				<table
					mat-table
					[dataSource]="boxes"
					class="w-full"
					*ngIf="!(loading$ | async)?.loading">
					<ng-container matColumnDef="id">
						<th mat-header-cell *matHeaderCellDef class="w-16">ID</th>
						<td mat-cell *matCellDef="let box" class="w-16">
							{{ box.id }}
						</td>
					</ng-container>
					<ng-container matColumnDef="name">
						<th mat-header-cell *matHeaderCellDef class="min-w-32">Name</th>
						<td mat-cell *matCellDef="let box" class="min-w-32">
							{{ box.name }}
						</td>
					</ng-container>
					<ng-container matColumnDef="description">
						<th mat-header-cell *matHeaderCellDef class="min-w-48">
							Description
						</th>
						<td mat-cell *matCellDef="let box" class="min-w-48">
							{{ box.description }}
						</td>
					</ng-container>
					<ng-container matColumnDef="latitude">
						<th mat-header-cell *matHeaderCellDef class="w-24">Latitude</th>
						<td mat-cell *matCellDef="let box" class="w-24">
							{{ box.latitude || "N/A" }}
						</td>
					</ng-container>
					<ng-container matColumnDef="longitude">
						<th mat-header-cell *matHeaderCellDef class="w-24">Longitude</th>
						<td mat-cell *matCellDef="let box" class="w-24">
							{{ box.longitude || "N/A" }}
						</td>
					</ng-container>
					<ng-container matColumnDef="actions">
						<th mat-header-cell *matHeaderCellDef class="w-32">Actions</th>
						<td mat-cell *matCellDef="let box" class="w-32">
							<button mat-icon-button (click)="openDialog(box)">
								<mat-icon>edit</mat-icon>
							</button>
							<button mat-icon-button color="warn" (click)="deleteBox(box)">
								<mat-icon>delete</mat-icon>
							</button>
						</td>
					</ng-container>
					<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
					<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
					<tr class="mat-row" *matNoDataRow>
						<td class="mat-cell text-center py-4" colspan="7">No data</td>
					</tr>
				</table>
			</mat-card-content>
		</mat-card>
	</div>
</div>
